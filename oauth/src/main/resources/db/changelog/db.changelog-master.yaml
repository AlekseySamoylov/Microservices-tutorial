databaseChangeLog:
- preConditions:
  - runningAs:
      username: auth_user
- changeSet:
    id: a.samoylov-2018-08-16-1
    author: Aleksey Samoylov
    changes:
    - createTable:
        tableName: user
        columns:
        - column:
            name: id
            type: int
            autoIncrement: true
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: email
            type: varchar(255)
        - column:
            name: first_name
            type: varchar(255)
        - column:
            name: last_name
            type: varchar(255)
        - column:
            name: password
            type: varchar(50)


- changeSet:
    id: a.samoylov-2018-08-16-2
    author: Aleksey Samoylov
    changes:
    - createTable:
        tableName: role
        columns:
        - column:
            name: id
            type: int
            autoIncrement: true
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: name
            type: varchar(255)


- changeSet:
    id: a.samoylov-2018-08-16-3
    author: Aleksey Samoylov
    changes:
    - createTable:
        tableName: user_role
        columns:
        - column:
            name: user_id
            type: int
            constraints:
              nullable: false
        - column:
            name: role_id
            type: int
            constraints:
              nullable: false

- changeSet:
    id: a.samoylov-2018-08-16-4
    author: Aleksey Samoylov
    changes:
    - createTable:
        tableName: persistent_logins
        columns:
        - column:
            name: username
            type: varchar(255)
        - column:
            name: series
            type: varchar(64)
        - column:
            name: token
            type: varchar(64)
            constraints:
              nullable: false
        - column:
            name: last_used
            type: timestamp
            constraints:
              nullable: false
